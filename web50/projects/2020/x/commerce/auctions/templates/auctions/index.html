{% extends "auctions/layout.html" %}

{% load static %}

{% block body %}
<div class="container mt-4">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}

    <h2 class="mb-4"><i class="fas fa-gavel me-2"></i>Active Auctions</h2>
    {% if auctions %}
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for auction in auctions %}
                {% include 'auctions/components/auction.html'%}
                <!-- Modal for each auction   'view_detail modal'-->
                <div class="modal fade" id="auctionModal{{ auction.id }}" tabindex="-1" aria-labelledby="auctionModalLabel{{ auction.id }}" aria-hidden="true">
                    {% include 'auctions/components/modals/view_detail.html'%}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info" role="alert">
            <i class="fas fa-info-circle me-2"></i>No active auctions at the moment.
        </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'auctions/js/index.js' %}"></script>
{% endblock %}
